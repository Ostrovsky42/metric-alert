package main

import (
	"metric-alert/internal/server/logger"
)

func main() {
	logger.InitLogger()

	cfg := getConfig()
	a := NewApp(cfg)
	defer a.Close()
	logger.Log.Info().Msg("server start on " + cfg.ServerHost)

	a.Run()
}

/*
Реализуйте механизм подписи передаваемых данных по алгоритму SHA256.
Для этого посчитайте hash от всего тела запроса и разместите его в HTTP-заголовке HashSHA256.

Хеш нужно считать от строки с учётом ключа, который передан агенту/серверу на старте: hash(value, key).

Агент:
Добавьте поддержку аргумента через флаг -k=<КЛЮЧ> и переменную окружения KEY=<КЛЮЧ>.
При наличии ключа агент должен вычислять хеш и передавать в HTTP-заголовке запроса с именем HashSHA256.

Сервер:
Добавьте поддержку аргумента через флаг -k=<КЛЮЧ> и переменную окружения KEY=<КЛЮЧ>.
При наличии ключа во время обработки запроса сервер должен проверять соответствие полученного и вычисленного хеша.
При несовпадении сервер должен отбрасывать полученные данные и возвращать http.StatusBadRequest.
При наличии ключа на этапе формирования ответа сервер должен вычислять хеш и передавать его в HTTP-заголовке ответа с именем HashSHA256.
*/
